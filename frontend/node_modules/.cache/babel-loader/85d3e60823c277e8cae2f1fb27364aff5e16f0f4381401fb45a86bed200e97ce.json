{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{motion,AnimatePresence}from'framer-motion';import{MicrophoneIcon,XMarkIcon,SpeakerWaveIcon,ExclamationTriangleIcon}from'@heroicons/react/24/outline';// Types\n// Extend Window interface for Speech Recognition\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const VoiceSearch=_ref=>{let{isOpen,onClose,onResult,language='en-US'}=_ref;const[isListening,setIsListening]=useState(false);const[transcript,setTranscript]=useState('');const[interimTranscript,setInterimTranscript]=useState('');const[isSupported,setIsSupported]=useState(true);const[error,setError]=useState(null);const[confidence,setConfidence]=useState(0);const[volume,setVolume]=useState(0);const recognitionRef=useRef(null);const animationRef=useRef();const audioContextRef=useRef(null);const analyserRef=useRef(null);const microphoneRef=useRef(null);useEffect(()=>{// Check if speech recognition is supported\nconst SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;if(!SpeechRecognition){setIsSupported(false);setError('Speech recognition is not supported in this browser. Please try Chrome or Edge.');return;}// Initialize speech recognition\nrecognitionRef.current=new SpeechRecognition();recognitionRef.current.continuous=true;recognitionRef.current.interimResults=true;recognitionRef.current.lang=language;// Event handlers\nrecognitionRef.current.onstart=()=>{setIsListening(true);setError(null);setupAudioAnalysis();};recognitionRef.current.onresult=event=>{let finalTranscript='';let interimTranscript='';for(let i=event.resultIndex;i<event.results.length;i++){const result=event.results[i];finalTranscript+=result.transcript;setConfidence(result.confidence);}setTranscript(finalTranscript);setInterimTranscript(interimTranscript);};recognitionRef.current.onerror=event=>{console.error('Speech recognition error:',event.error);setError(`Speech recognition error: ${event.error}`);setIsListening(false);stopAudioAnalysis();};recognitionRef.current.onend=()=>{setIsListening(false);stopAudioAnalysis();};return()=>{if(recognitionRef.current){recognitionRef.current.stop();}stopAudioAnalysis();};},[language]);useEffect(()=>{if(isOpen&&isSupported){startListening();}else{stopListening();}},[isOpen,isSupported]);const setupAudioAnalysis=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});audioContextRef.current=new AudioContext();analyserRef.current=audioContextRef.current.createAnalyser();microphoneRef.current=audioContextRef.current.createMediaStreamSource(stream);microphoneRef.current.connect(analyserRef.current);analyserRef.current.fftSize=256;const bufferLength=analyserRef.current.frequencyBinCount;const dataArray=new Uint8Array(bufferLength);const updateVolume=()=>{if(analyserRef.current){analyserRef.current.getByteFrequencyData(dataArray);const avg=dataArray.reduce((sum,value)=>sum+value,0)/bufferLength;setVolume(avg/255);if(isListening){animationRef.current=requestAnimationFrame(updateVolume);}}};updateVolume();}catch(error){console.error('Error setting up audio analysis:',error);}};const stopAudioAnalysis=()=>{if(animationRef.current){cancelAnimationFrame(animationRef.current);}if(microphoneRef.current){microphoneRef.current.disconnect();}if(audioContextRef.current){audioContextRef.current.close();}};const startListening=()=>{if(recognitionRef.current&&isSupported){setTranscript('');setInterimTranscript('');setError(null);recognitionRef.current.start();}};const stopListening=()=>{if(recognitionRef.current){recognitionRef.current.stop();}};const handleSubmit=()=>{const finalTranscript=transcript.trim();if(finalTranscript){onResult(finalTranscript);}onClose();};const handleClose=()=>{stopListening();onClose();};if(!isOpen)return null;const displayText=transcript||interimTranscript||'';const isRecording=isListening&&!error;return/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm\",onClick:handleClose,children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.9,opacity:0},transition:{type:'spring',damping:25,stiffness:300},className:\"relative w-full max-w-md p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,className:\"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"w-6 h-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-white mb-2\",children:\"Voice Search\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:isRecording?'Listening...':'Click the microphone to start'})]}),error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:\"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"w-5 h-5 text-red-500 mr-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700 dark:text-red-300\",children:error})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mb-8\",children:/*#__PURE__*/_jsxs(motion.div,{className:\"relative\",animate:{scale:isRecording?1+volume*0.3:1},transition:{type:'spring',stiffness:300,damping:30},children:[isRecording&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(motion.div,{className:\"absolute inset-0 bg-blue-500 rounded-full opacity-20\",animate:{scale:[1,1.5,2],opacity:[0.3,0.1,0]},transition:{duration:2,repeat:Infinity,ease:'easeOut'}}),/*#__PURE__*/_jsx(motion.div,{className:\"absolute inset-0 bg-blue-500 rounded-full opacity-20\",animate:{scale:[1,1.5,2],opacity:[0.3,0.1,0]},transition:{duration:2,repeat:Infinity,ease:'easeOut',delay:0.5}})]}),/*#__PURE__*/_jsx(motion.button,{onClick:isRecording?stopListening:startListening,disabled:!isSupported,className:`\n                  relative w-20 h-20 rounded-full flex items-center justify-center\n                  transition-all duration-200 shadow-lg\n                  ${isRecording?'bg-red-500 hover:bg-red-600 text-white':'bg-blue-500 hover:bg-blue-600 text-white'}\n                  ${!isSupported?'opacity-50 cursor-not-allowed':'hover:shadow-xl'}\n                `,whileTap:{scale:0.95},children:/*#__PURE__*/_jsx(MicrophoneIcon,{className:\"w-8 h-8\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-[100px] p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600\",children:displayText?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[transcript&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 dark:text-white font-medium\",children:transcript}),interimTranscript&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 italic\",children:interimTranscript}),confidence>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-400 mr-2\",children:\"Confidence:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2\",children:/*#__PURE__*/_jsx(motion.div,{className:\"bg-green-500 h-2 rounded-full\",initial:{width:0},animate:{width:`${confidence*100}%`},transition:{duration:0.3}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-400 ml-2\",children:[Math.round(confidence*100),\"%\"]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center h-full text-gray-400 dark:text-gray-500\",children:[/*#__PURE__*/_jsx(SpeakerWaveIcon,{className:\"w-6 h-6 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Your speech will appear here...\"})]})})}),isRecording&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center space-x-1\",children:Array.from({length:20},(_,i)=>/*#__PURE__*/_jsx(motion.div,{className:`w-1 bg-blue-500 rounded-full ${volume*20>i?'opacity-100':'opacity-30'}`,animate:{height:volume*20>i?Math.random()*20+10:4},transition:{duration:0.1}},i))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,className:\"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:!transcript.trim(),className:\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\",children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Tip: Speak clearly and wait for the transcript to appear\"})})]})})});};export default VoiceSearch;","map":{"version":3,"names":["React","useState","useEffect","useRef","motion","AnimatePresence","MicrophoneIcon","XMarkIcon","SpeakerWaveIcon","ExclamationTriangleIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VoiceSearch","_ref","isOpen","onClose","onResult","language","isListening","setIsListening","transcript","setTranscript","interimTranscript","setInterimTranscript","isSupported","setIsSupported","error","setError","confidence","setConfidence","volume","setVolume","recognitionRef","animationRef","audioContextRef","analyserRef","microphoneRef","SpeechRecognition","window","webkitSpeechRecognition","current","continuous","interimResults","lang","onstart","setupAudioAnalysis","onresult","event","finalTranscript","i","resultIndex","results","length","result","onerror","console","stopAudioAnalysis","onend","stop","startListening","stopListening","stream","navigator","mediaDevices","getUserMedia","audio","AudioContext","createAnalyser","createMediaStreamSource","connect","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","updateVolume","getByteFrequencyData","avg","reduce","sum","value","requestAnimationFrame","cancelAnimationFrame","disconnect","close","start","handleSubmit","trim","handleClose","displayText","isRecording","children","div","initial","opacity","animate","exit","className","onClick","scale","transition","type","damping","stiffness","e","stopPropagation","y","duration","repeat","Infinity","ease","delay","button","disabled","whileTap","width","Math","round","Array","from","_","height","random"],"sources":["/workspace/frontend/src/components/Search/VoiceSearch.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  MicrophoneIcon,\n  XMarkIcon,\n  SpeakerWaveIcon,\n  ExclamationTriangleIcon,\n} from '@heroicons/react/24/outline';\n\n// Types\ninterface VoiceSearchProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onResult: (transcript: string) => void;\n  language?: string;\n}\n\ninterface SpeechRecognitionEvent {\n  results: SpeechRecognitionResultList;\n  resultIndex: number;\n}\n\ninterface SpeechRecognitionResult {\n  transcript: string;\n  confidence: number;\n}\n\ninterface SpeechRecognitionResultList {\n  [index: number]: SpeechRecognitionResult;\n  length: number;\n}\n\n// Extend Window interface for Speech Recognition\ndeclare global {\n  interface Window {\n    SpeechRecognition: any;\n    webkitSpeechRecognition: any;\n  }\n}\n\nconst VoiceSearch: React.FC<VoiceSearchProps> = ({\n  isOpen,\n  onClose,\n  onResult,\n  language = 'en-US',\n}) => {\n  const [isListening, setIsListening] = useState(false);\n  const [transcript, setTranscript] = useState('');\n  const [interimTranscript, setInterimTranscript] = useState('');\n  const [isSupported, setIsSupported] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [confidence, setConfidence] = useState(0);\n  const [volume, setVolume] = useState(0);\n\n  const recognitionRef = useRef<any>(null);\n  const animationRef = useRef<number>();\n  const audioContextRef = useRef<AudioContext | null>(null);\n  const analyserRef = useRef<AnalyserNode | null>(null);\n  const microphoneRef = useRef<MediaStreamAudioSourceNode | null>(null);\n\n  useEffect(() => {\n    // Check if speech recognition is supported\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    \n    if (!SpeechRecognition) {\n      setIsSupported(false);\n      setError('Speech recognition is not supported in this browser. Please try Chrome or Edge.');\n      return;\n    }\n\n    // Initialize speech recognition\n    recognitionRef.current = new SpeechRecognition();\n    recognitionRef.current.continuous = true;\n    recognitionRef.current.interimResults = true;\n    recognitionRef.current.lang = language;\n\n    // Event handlers\n    recognitionRef.current.onstart = () => {\n      setIsListening(true);\n      setError(null);\n      setupAudioAnalysis();\n    };\n\n    recognitionRef.current.onresult = (event: SpeechRecognitionEvent) => {\n      let finalTranscript = '';\n      let interimTranscript = '';\n\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const result = event.results[i];\n        finalTranscript += result.transcript;\n        setConfidence(result.confidence);\n      }\n\n      setTranscript(finalTranscript);\n      setInterimTranscript(interimTranscript);\n    };\n\n    recognitionRef.current.onerror = (event: any) => {\n      console.error('Speech recognition error:', event.error);\n      setError(`Speech recognition error: ${event.error}`);\n      setIsListening(false);\n      stopAudioAnalysis();\n    };\n\n    recognitionRef.current.onend = () => {\n      setIsListening(false);\n      stopAudioAnalysis();\n    };\n\n    return () => {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n      stopAudioAnalysis();\n    };\n  }, [language]);\n\n  useEffect(() => {\n    if (isOpen && isSupported) {\n      startListening();\n    } else {\n      stopListening();\n    }\n  }, [isOpen, isSupported]);\n\n  const setupAudioAnalysis = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      audioContextRef.current = new AudioContext();\n      analyserRef.current = audioContextRef.current.createAnalyser();\n      microphoneRef.current = audioContextRef.current.createMediaStreamSource(stream);\n      \n      microphoneRef.current.connect(analyserRef.current);\n      analyserRef.current.fftSize = 256;\n\n      const bufferLength = analyserRef.current.frequencyBinCount;\n      const dataArray = new Uint8Array(bufferLength);\n\n      const updateVolume = () => {\n        if (analyserRef.current) {\n          analyserRef.current.getByteFrequencyData(dataArray);\n          const avg = dataArray.reduce((sum, value) => sum + value, 0) / bufferLength;\n          setVolume(avg / 255);\n          \n          if (isListening) {\n            animationRef.current = requestAnimationFrame(updateVolume);\n          }\n        }\n      };\n\n      updateVolume();\n    } catch (error) {\n      console.error('Error setting up audio analysis:', error);\n    }\n  };\n\n  const stopAudioAnalysis = () => {\n    if (animationRef.current) {\n      cancelAnimationFrame(animationRef.current);\n    }\n    \n    if (microphoneRef.current) {\n      microphoneRef.current.disconnect();\n    }\n    \n    if (audioContextRef.current) {\n      audioContextRef.current.close();\n    }\n  };\n\n  const startListening = () => {\n    if (recognitionRef.current && isSupported) {\n      setTranscript('');\n      setInterimTranscript('');\n      setError(null);\n      recognitionRef.current.start();\n    }\n  };\n\n  const stopListening = () => {\n    if (recognitionRef.current) {\n      recognitionRef.current.stop();\n    }\n  };\n\n  const handleSubmit = () => {\n    const finalTranscript = transcript.trim();\n    if (finalTranscript) {\n      onResult(finalTranscript);\n    }\n    onClose();\n  };\n\n  const handleClose = () => {\n    stopListening();\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  const displayText = transcript || interimTranscript || '';\n  const isRecording = isListening && !error;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm\"\n        onClick={handleClose}\n      >\n        <motion.div\n          initial={{ scale: 0.9, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          exit={{ scale: 0.9, opacity: 0 }}\n          transition={{ type: 'spring', damping: 25, stiffness: 300 }}\n          className=\"relative w-full max-w-md p-8 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Close Button */}\n          <button\n            onClick={handleClose}\n            className=\"absolute top-4 right-4 p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\n          >\n            <XMarkIcon className=\"w-6 h-6\" />\n          </button>\n\n          {/* Header */}\n          <div className=\"text-center mb-8\">\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n              Voice Search\n            </h2>\n            <p className=\"text-gray-600 dark:text-gray-300\">\n              {isRecording ? 'Listening...' : 'Click the microphone to start'}\n            </p>\n          </div>\n\n          {/* Error Display */}\n          {error && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\"\n            >\n              <div className=\"flex items-center\">\n                <ExclamationTriangleIcon className=\"w-5 h-5 text-red-500 mr-2\" />\n                <p className=\"text-sm text-red-700 dark:text-red-300\">{error}</p>\n              </div>\n            </motion.div>\n          )}\n\n          {/* Microphone Animation */}\n          <div className=\"flex justify-center mb-8\">\n            <motion.div\n              className=\"relative\"\n              animate={{\n                scale: isRecording ? 1 + volume * 0.3 : 1,\n              }}\n              transition={{ type: 'spring', stiffness: 300, damping: 30 }}\n            >\n              {/* Pulse Rings */}\n              {isRecording && (\n                <>\n                  <motion.div\n                    className=\"absolute inset-0 bg-blue-500 rounded-full opacity-20\"\n                    animate={{\n                      scale: [1, 1.5, 2],\n                      opacity: [0.3, 0.1, 0],\n                    }}\n                    transition={{\n                      duration: 2,\n                      repeat: Infinity,\n                      ease: 'easeOut',\n                    }}\n                  />\n                  <motion.div\n                    className=\"absolute inset-0 bg-blue-500 rounded-full opacity-20\"\n                    animate={{\n                      scale: [1, 1.5, 2],\n                      opacity: [0.3, 0.1, 0],\n                    }}\n                    transition={{\n                      duration: 2,\n                      repeat: Infinity,\n                      ease: 'easeOut',\n                      delay: 0.5,\n                    }}\n                  />\n                </>\n              )}\n\n              {/* Microphone Button */}\n              <motion.button\n                onClick={isRecording ? stopListening : startListening}\n                disabled={!isSupported}\n                className={`\n                  relative w-20 h-20 rounded-full flex items-center justify-center\n                  transition-all duration-200 shadow-lg\n                  ${isRecording\n                    ? 'bg-red-500 hover:bg-red-600 text-white'\n                    : 'bg-blue-500 hover:bg-blue-600 text-white'\n                  }\n                  ${!isSupported ? 'opacity-50 cursor-not-allowed' : 'hover:shadow-xl'}\n                `}\n                whileTap={{ scale: 0.95 }}\n              >\n                <MicrophoneIcon className=\"w-8 h-8\" />\n              </motion.button>\n            </motion.div>\n          </div>\n\n          {/* Transcript Display */}\n          <div className=\"mb-6\">\n            <div className=\"min-h-[100px] p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600\">\n              {displayText ? (\n                <div className=\"space-y-2\">\n                  {transcript && (\n                    <p className=\"text-gray-900 dark:text-white font-medium\">\n                      {transcript}\n                    </p>\n                  )}\n                  {interimTranscript && (\n                    <p className=\"text-gray-500 dark:text-gray-400 italic\">\n                      {interimTranscript}\n                    </p>\n                  )}\n                  {confidence > 0 && (\n                    <div className=\"flex items-center mt-2\">\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400 mr-2\">\n                        Confidence:\n                      </span>\n                      <div className=\"flex-1 bg-gray-200 dark:bg-gray-600 rounded-full h-2\">\n                        <motion.div\n                          className=\"bg-green-500 h-2 rounded-full\"\n                          initial={{ width: 0 }}\n                          animate={{ width: `${confidence * 100}%` }}\n                          transition={{ duration: 0.3 }}\n                        />\n                      </div>\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400 ml-2\">\n                        {Math.round(confidence * 100)}%\n                      </span>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <div className=\"flex items-center justify-center h-full text-gray-400 dark:text-gray-500\">\n                  <SpeakerWaveIcon className=\"w-6 h-6 mr-2\" />\n                  <span>Your speech will appear here...</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Volume Indicator */}\n          {isRecording && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"mb-6\"\n            >\n              <div className=\"flex items-center justify-center space-x-1\">\n                {Array.from({ length: 20 }, (_, i) => (\n                  <motion.div\n                    key={i}\n                    className={`w-1 bg-blue-500 rounded-full ${\n                      volume * 20 > i ? 'opacity-100' : 'opacity-30'\n                    }`}\n                    animate={{\n                      height: volume * 20 > i ? Math.random() * 20 + 10 : 4,\n                    }}\n                    transition={{ duration: 0.1 }}\n                  />\n                ))}\n              </div>\n            </motion.div>\n          )}\n\n          {/* Action Buttons */}\n          <div className=\"flex space-x-4\">\n            <button\n              onClick={handleClose}\n              className=\"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleSubmit}\n              disabled={!transcript.trim()}\n              className=\"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              Search\n            </button>\n          </div>\n\n          {/* Tips */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n              Tip: Speak clearly and wait for the transcript to appear\n            </p>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\nexport default VoiceSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}